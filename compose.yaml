services:
    database:
        image: postgres:13
        ports: ['5432']
        environment:
            POSTGRES_USER: main
            POSTGRES_PASSWORD: main
            POSTGRES_DB: main
        labels:
            com.symfony.server.service-ignore: true

    redis:
        image: redis:6.2-alpine
        labels:
            com.symfony.server.service-ignore: true

    rabbitmq:
        image: rabbitmq:3.9-management-alpine
        environment:
            RABBITMQ_DEFAULT_USER: guest
            RABBITMQ_DEFAULT_PASS: guest
        labels:
            com.symfony.server.service-ignore: true

    meilisearch:
        image: getmeili/meilisearch:v0.28.1
        ports: ['7700']
        environment:
            MEILI_MASTER_KEY: secret
        labels:
            com.symfony.server.service-ignore: true

    gotenberg:
        image: gotenberg/gotenberg:7
        ports: ['3000']
        labels:
            com.symfony.server.service-ignore: true

    mailcatcher:
        image: schickling/mailcatcher
        ports: ['1025', '1080']
        labels:
            com.symfony.server.service-ignore: true

    keycloak:
        image: quay.io/keycloak/keycloak:26.4
        command: 'start-dev'
        ports: ['8080']
        environment:
            - KC_BOOTSTRAP_ADMIN_USERNAME=admin
            - KC_BOOTSTRAP_ADMIN_PASSWORD=admin
        labels:
            com.symfony.server.service-ignore: true
