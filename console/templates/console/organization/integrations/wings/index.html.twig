{% extends 'console/organization/base.html.twig' %}

{% block page_title 'wings.title'|trans({}, 'organization_integrations') %}

{% block content %}
    <div class="world-box">
        <div class="world-box-title bg-white">
            <a href="{{ path('console_organization_integrations', {'organizationUuid': current_organization.uuid}) }}"
               class="btn btn-outline-primary btn-sm border-0">
                <i class="fal fa-angle-left"></i>
                <span>{{ 'back'|trans({}, 'organization_integrations') }}</span>
            </a>

            <h3 class="mt-2 mb-0">
                {{ 'wings.title'|trans({}, 'organization_integrations') }}
            </h3>
        </div>

        <div class="bg-light p-3 p-lg-4">
            <div class="row justify-content-center">
                <div class="col-12 col-lg-9 col-xl-6">
                    <div class="integrations-connection text-center mb-4">
                        <img src="{{ asset('res/icon/icon.png') }}" class="mx-2" />
                        <img src="{{ asset('integrations/wings.png') }}" class="mx-2" />
                    </div>

                    <div class="mb-3">
                        {{ 'wings.help'|trans({}, 'organization_integrations') }}
                    </div>

                    <div class="world-block p-4 mb-4">
                        <div {{ react_component('Organization/Integrations/WingsChooser', {
                            'projects': projects,
                            'labels': {
                                'project': 'wings.project'|trans({}, 'organization_integrations'),
                                'help': 'wings.webhook.help'|trans({}, 'organization_integrations'),
                                'name': 'wings.webhook.name'|trans({}, 'organization_integrations'),
                                'endpoint': 'wings.webhook.endpoint'|trans({}, 'organization_integrations'),
                                'events': 'wings.webhook.events'|trans({}, 'organization_integrations'),
                                'http_method': 'wings.webhook.http_method'|trans({}, 'organization_integrations'),
                                'save_help': 'wings.webhook.save_help'|trans({}, 'organization_integrations'),
                            },
                        }) }}>
                            <div class="py-5 text-center">
                                <div class="h2 my-5">
                                    <i class="fal fa-circle-notch fa-spin"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
{% endblock %}
